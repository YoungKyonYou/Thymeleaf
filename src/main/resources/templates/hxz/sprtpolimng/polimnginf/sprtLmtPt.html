<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<!-- ë ˆì´ì•„ì›ƒì— ì´ í˜ì´ì§€ì˜ ë³¸ë¬¸(content) í”„ë˜ê·¸ë¨¼íŠ¸ë¥¼ ì£¼ì… -->
<th:block th:replace="~{component/commonHead :: layout(~{::content})}">
    <th:block th:fragment="content">

        <link rel="stylesheet" th:href="@{/css/page/page.css}" />

        <!-- ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ -->
        <style>
            /* ë¶„ê¸°/ì›” ì…ë ¥ ì½ê¸°ì „ìš© í‘œì‹œ */
            #modal-manager.qtr-readonly .dp-input[readonly] {
                background: #f3f4f6;
                color: #6b7280;
                border-color: #d1d5db;
                cursor: not-allowed;
            }

            #modal-manager.qtr-readonly .dp-input[readonly]::placeholder {
                color: #9ca3af;
            }

            #modal-manager.qtr-readonly .dp-btn[disabled] {
                opacity: .35;
                pointer-events: none;
                cursor: not-allowed;
            }

            #modal-manager.qtr-readonly .text-field.readonly {
                background: #f9fafb;
                border-color: #e5e7eb;
            }

            /* ê±´ìˆ˜ ëª¨ë‹¬ ìŠ¤í¬ë¡¤ */
            .table-scroll {
                max-height: 300px;
                overflow: auto;
            }

            /* í—¤ë” ê³ ì • í•„ìš” ì‹œ ì£¼ì„ í•´ì œ
            #newNcntTable thead th { position:sticky; top:0; background:#fff; z-index:1; } */
        </style>

        <section class="section" id="grid">
            <form class="section-header" th:object="${req}">
                <div class="title-wrap box">
                    <h3 class="section-title">ì§€ì›í•œë„ë‚´ì—­ì¡°íšŒ</h3>
                </div>

                <div class="box-wrap">
                    <div class="box">
                        <p class="field-title">ì„œë¹„ìŠ¤ ì„ íƒ</p>
                        <th:block th:replace="~{common/fragment/dropdowns :: cascadingDropdown(
                            'svcPair1','tpwSvcId','tpwSvcTypId'
                        )}"></th:block>
                    </div>
                </div>

                <div class="box-wrap">
                    <div class="box">
                        <p class="field-title">ì„œë¹„ìŠ¤ëª…</p>
                        <input type="text" class="text-field" th:field="*{tpwSvcNm}">
                    </div>

                    <div class="box">
                        <p class="field-title">ì‚¬ìš©ì—¬ë¶€</p>
                        <div class="dropdown" data-name="state">
                            <button type="button" class="dropdown_button" aria-haspopup="listbox" aria-expanded="false"
                                aria-label="ì‚¬ìš©ì—¬ë¶€ ë“œë¡­ë‹¤ìš´">
                                <span class="dropdown_value" data-placeholder="Y">ì„ íƒí•˜ì„¸ìš”</span>
                            </button>
                            <ul class="dropdown_list" role="listbox" tabindex="-1">
                                <li role="option" class="dropdown_option" data-value="Y">Y</li>
                                <li role="option" class="dropdown_option" data-value="N">N</li>
                            </ul>
                            <input type="hidden" name="state" value="" th:field="*{useYn}">
                        </div>
                    </div>

                    <div class="box">
                        <p class="field-title">í•œë„êµ¬ë¶„</p>
                        <div class="dropdown" data-name="limit">
                            <button type="button" class="dropdown_button" aria-haspopup="listbox" aria-expanded="false"
                                aria-label="í•œë„êµ¬ë¶„ ë“œë¡­ë‹¤ìš´">
                                <span class="dropdown_value" data-placeholder="ê¸ˆì•¡">ì„ íƒí•˜ì„¸ìš”</span>
                            </button>
                            <ul class="dropdown_list" role="listbox" tabindex="-1">
                                <li role="option" class="dropdown_option" data-value="01">ê¸ˆì•¡</li>
                                <li role="option" class="dropdown_option" data-value="02">ê±´ìˆ˜</li>
                            </ul>
                            <input type="hidden" name="limit" value="" th:field="*{tpwLmtDvsCd}">
                        </div>
                    </div>
                </div>

                <div class="btn-wrap">
                    <button type="button" class="btn btn-dark-line open-modal" id="new-modal" data-mode="new"
                        data-target="#modal-manager" sec:authorize="hasPermission('ì§€ì›í•œë„ë‚´ì—­ì¡°íšŒ', 'WRITE')">ì‹ ê·œ í•œë„
                        ì„¤ì •</button>

                    <button type="button" class="btn btn-primary btn-icon-left" data-export="xlsx"
                        data-provider="ì§€ì›í•œë„ë‚´ì—­ì¡°íšŒ">
                        <i class="icon icon-save"></i> ì—‘ì…€ ë‹¤ìš´ë¡œë“œ
                    </button>

                    <button type="submit" class="btn btn-primary btn-icon-left"
                        sec:authorize="hasPermission('ì§€ì›í•œë„ë‚´ì—­ì¡°íšŒ', 'READ')">ê²€ìƒ‰ <i class="icon icon-search"></i></button>
                </div>

                <input th:field="*{sort}" type="hidden" id="sort">
                <input th:field="*{dir}" type="hidden" id="dir">
            </form>

            <div class="section-content">
                <div class="title-wrap" id="grid-title">
                    <h3 class="section-title" th:text="${req.tpwLmtDvsCd == '01' ? 'í•œë„êµ¬ë¶„(ê¸ˆì•¡)' : 'í•œë„êµ¬ë¶„(ê±´ìˆ˜)'}"></h3>
                </div>

                <div class="flex justify-space-between" id="grid-header" th:object="${pageData}">
                    <b th:text="'ê²€ìƒ‰ ê²°ê³¼ : ' + *{total} + 'ê±´'"></b>
                </div>

                <div class="table-wrap mt20">
                    <table class="table">
                        <caption class="blind">ì§€ê¸‰ê¸ˆ ì‹ ì²­ í…Œì´ë¸”</caption>
                        <thead id="grid-head">
                            <tr>
                                <th class="sort-header" scope="col">ìˆœë²ˆ</th>
                                <th class="sort-header" scope="col"><a data-sort="tpw_svc_id">ì„œë¹„ìŠ¤ ID</a></th>
                                <th class="sort-header" scope="col"><a data-sort="tpw_svc_nm">êµí†µë¹„ì§€ì›ì„œë¹„ìŠ¤ëª…</a></th>
                                <th class="sort-header" scope="col"><a data-sort="tpw_svc_typ_id">ì„œë¹„ìŠ¤ìœ í˜• ID</a></th>
                                <th class="sort-header" scope="col"><a data-sort="tpw_svc_typ_nm">ì„œë¹„ìŠ¤ìœ í˜•ëª…</a></th>
                                <th class="sort-header" scope="col" data-sort="spfn_lmt_mng_no">ì§€ì›ê¸ˆí•œë„ê´€ë¦¬ë²ˆí˜¸</th>
                                <th class="sort-header" scope="col"><a data-sort="lmt_stt_ym">í•œë„ì‹œì‘ë…„ì›”</a></th>
                                <th class="sort-header" scope="col" th:if="${req.tpwLmtDvsCd == '01'}"><a
                                        data-sort="min_cndt_val">ìµœì†Œí•œë„</a></th>
                                <th class="sort-header" scope="col" th:if="${req.tpwLmtDvsCd == '01'}"><a
                                        data-sort="max_cndt_val">ìµœëŒ€í•œë„</a></th>
                                <th class="sort-header" scope="col">ì‚¬ìš©ì—¬ë¶€</th>
                                <th class="sort-header" scope="col">í•œë„ì„¤ì •</th>
                            </tr>
                        </thead>
                        <tbody id="grid-tbody">
                            <th:block th:each="u, stat : ${pageData.content}"
                                th:if="${pageData != null and pageData.total > 0}" th:object="${u}">
                                <tr th:if="${u != null}">
                                    <td th:text="${stat.count}"></td>
                                    <td th:text="*{tpwSvcId}"></td>
                                    <td th:text="*{tpwSvcNm}"></td>
                                    <td th:text="*{tpwSvcTypId}"></td>
                                    <td th:text="*{tpwSvcTypNm}"></td>
                                    <td th:text="*{spfnLmtMngNo}"></td>
                                    <td th:text="*{lmtSttYm} + ' ~ ' + *{lmtEndYm}"></td>
                                    <td th:if="${req.tpwLmtDvsCd == '01'}" th:text="*{minCndtVal}"></td>
                                    <td th:if="${req.tpwLmtDvsCd == '01'}" th:text="*{maxCndtVal}"></td>
                                    <td th:text="*{useYn}"></td>
                                    <td>
                                        <button class="btn btn-dark-line open-modal" type="button"
                                            data-target="#modal-manager" th:data-id="*{tpwSvcTypId}"
                                            th:data-dvs-code="*{tpwLmtDvsCd}" th:use-yn="*{useYn}"
                                            sec:authorize="hasPermission('ì§€ì›í•œë„ë‚´ì—­ì¡°íšŒ', 'UPDATE')">ì„¤ì •í•˜ê¸°</button>
                                    </td>
                                </tr>
                            </th:block>
                            <th:block th:unless="${pageData != null and pageData.total > 0}">
                                <tr>
                                    <td aria-live="polite" class="empty" colspan="11">ì¡°íšŒ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</td>
                                </tr>
                            </th:block>
                        </tbody>
                    </table>
                </div>

                <div class="mt20" id="grid-pager">
                    <th:block th:replace="~{component/pagination :: pager(pageData=${pageData})}"></th:block>
                </div>
            </div>
        </section>

        <!-- Modal Shell -->
        <div aria-hidden="true" aria-labelledby="modal-title-basic" aria-modal="true" class="modal modal-lg"
            id="modal-manager" role="dialog">
            <div class="modal-overlay" data-dismiss></div>
            <div class="modal-container" role="document" tabindex="-1"></div>
        </div>

        <!-- ê³µí†µ í‘¸í„° -->
        <th:block th:replace="~{component/commonFooter :: commonFooter}"></th:block>

        <!-- (A) ìƒì„¸ ëª¨ë‹¬ -->
        <th:block th:fragment="modal-detail">
            <header class="modal-header">
                <h3 class="modal-title" id="modal-title-basic" th:text="${dvsCd == '01'} ? 'í•œë„(ê¸ˆì•¡) ì„¤ì •' : 'í•œë„(ê±´ìˆ˜) ì„¤ì •'">
                </h3>
                <button aria-label="ë‹«ê¸°" class="modal-close" data-dismiss type="button"></button>
            </header>
            <input id="dvsCd" th:value="${dvsCd}" type="hidden" />
            <input id="typCd" th:value="${typCd}" type="hidden" />
            <form th:object="${form}">
                <div class="modal-body" th:if="${dvsCd == '01'}">
                    <div class="flex align-center justify-space-between">
                        <div class="tabs" role="tablist">
                            <button aria-controls="panel-1" aria-selected="true" class="tab is-active"
                                role="tab">ë¶„ê¸°</button>
                            <button aria-controls="panel-2" aria-selected="false" class="tab is-active" role="tab"
                                th:disabled="${typCd == '02'}">ì›”</button>
                        </div>
                    </div>

                    <!-- ë¶„ê¸° -->
                    <div aria-labelledby="tab-1" class="tab-panel is-active" role="tabpanel">
                        <div class="table-wrap">
                            <table class="table">
                                <caption class="blind">ì§€ê¸‰ê¸ˆ ì‹ ì²­ í…Œì´ë¸”</caption>
                                <thead>
                                    <tr>
                                        <th scope="col">ìˆœë²ˆ</th>
                                        <th scope="col">í•œë„ ì‹œì‘, ì¢…ë£Œ ê¸°ê°„</th>
                                        <th scope="col">í•œë„ê¸ˆì•¡(ì›)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="u, stat : ${sprtLmtDtIList}">
                                        <input th:field="*{list[__${stat.index}__].spfnLmtMngNo}" type="hidden" />
                                        <td th:text="${stat.count}"></td>
                                        <td>
                                            <div class="flex align-center col-2">
                                                <div class="text-field datepicker" style="width: 200px">
                                                    <input th:attr="id=|detail-start-${stat.index}|" class="dp-input"
                                                        type="text" placeholder="YYYY-MM" data-dp-type="month"
                                                        autocomplete="off"
                                                        th:field="*{list[__${stat.index}__].lmtSttYm}" />
                                                    <button type="button" class="dp-btn" data-dp-toggle
                                                        aria-label="ë…„ ì›” ì„ íƒ ì—´ê¸°"></button>
                                                </div>
                                                <span>~</span>
                                                <div class="text-field datepicker" style="width: 200px">
                                                    <input th:attr="id=|detail-end-${stat.index}|" class="dp-input"
                                                        type="text" placeholder="YYYY-MM" data-dp-type="month"
                                                        autocomplete="off"
                                                        th:field="*{list[__${stat.index}__].lmtEndYm}" />
                                                    <button type="button" class="dp-btn" data-dp-toggle
                                                        aria-label="ë…„ ì›” ì„ íƒ ì—´ê¸°"></button>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <!-- ê¸ˆì•¡: ìˆ«ìë§Œ, 10ìë¦¬, í‘œì‹œìš© ì½¤ë§ˆ -->
                                            <input class="text-field js-amount" inputmode="numeric" autocomplete="off"
                                                data-maxlen="10" maxlength="20"
                                                th:field="*{list[__${stat.index}__].tgtAdptVal}" type="text" />
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="modal-body" th:if="${dvsCd == '02'}">
                        <div class="flex align-center justify-end">
                            <div class="tabs" role="tablist"></div>
                        </div>
                        <div class="flex col-">
                            <button class="btn btn-dark-line" id="addRow" type="button">í–‰ì¶”ê°€</button>
                            <button class="btn btn-dark-line" id="removeRow" type="button">í–‰ì‚­ì œ</button>
                        </div>

                        <div class="table-wrap mt20" id="case">
                            <table class="table" id="ncntTable">
                                <caption class="blind">ì§€ê¸‰ê¸ˆ ì‹ ì²­ í…Œì´ë¸”</caption>
                                <thead>
                                    <tr>
                                        <th scope="col">ìµœì†Œí•œë„ê±´</th>
                                        <th scope="col">ìµœëŒ€í•œë„ê±´</th>
                                        <th scope="col">ì§€ê¸‰ë¥ (%)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="u, stat : ${sprtLmtDtIList}">
                                        <input th:field="*{list[__${stat.index}__].spfnLmtMngNo}" type="hidden" />
                                        <td><input class="text-field js-count" inputmode="numeric" autocomplete="off"
                                                data-maxlen="10" th:field="*{list[__${stat.index}__].minCndtVal}"
                                                type="text" /></td>
                                        <td><input class="text-field js-count" inputmode="numeric" autocomplete="off"
                                                data-maxlen="10" th:field="*{list[__${stat.index}__].maxCndtVal}"
                                                type="text" /></td>
                                        <td><input class="text-field js-percent" inputmode="numeric" autocomplete="off"
                                                th:field="*{list[__${stat.index}__].tgtAdptVal}" type="text" /></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <footer class="modal-footer">
                        <button class="btn btn-dark-line" data-dismiss type="button">ì·¨ì†Œ</button>
                        <button class="btn btn-blue" th:attr="data-typ-id=${tpwSvcTypId}" type="button">ì €ì¥</button>
                    </footer>
                </div>
            </form>
        </th:block>

        <!-- (B) ê¸ˆì•¡ ì‹ ê·œ ëª¨ë‹¬ (amt) -->
        <th:block th:fragment="amt-modal">
            <header class="modal-header">
                <h3 class="modal-title">í•œë„(ê¸ˆì•¡) ì„¤ì •</h3>
                <button aria-label="ë‹«ê¸°" class="modal-close" data-dismiss type="button"></button>
            </header>
            <div class="modal-body">
                <div class="flex align-center justify-space-between">
                    <div class="tabs" role="tablist">
                        <button aria-controls="panel-1" aria-selected="true" class="tab is-active" id="tab-1"
                            role="tab">ë¶„ê¸°</button>
                        <button aria-controls="panel-2" aria-selected="false" class="tab" id="tab-2"
                            role="tab">ì›”</button>
                    </div>
                </div>
                <div class="tab-panels">
                    <!-- ë¶„ê¸° -->
                    <div aria-labelledby="tab-1" class="tab-panel is-active" id="panel-1" role="tabpanel">
                        <div class="table-wrap">
                            <form id="qt" th:object="${amtQt}">
                                <table class="table">
                                    <caption class="blind">ì§€ê¸‰ê¸ˆ ì‹ ì²­ í…Œì´ë¸”</caption>
                                    <colgroup>
                                        <col width="150px">
                                        <col width="300px">
                                        <col width="150px">
                                    </colgroup>
                                    <thead>
                                        <tr>
                                            <th scope="col">ìˆœë²ˆ</th>
                                            <th scope="col">í•œë„ ì‹œì‘, ì¢…ë£Œ ê¸°ê°„(ë¶„ê¸°)</th>
                                            <th scope="col">í•œë„ê¸ˆì•¡(ì›)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr th:each="u, stat : ${qt}">
                                            <input th:field="*{list[__${stat.index}__].spfnLmtMngNo}" type="hidden" />
                                            <td th:text="${stat.count}"></td>
                                            <td>
                                                <div class="flex align-center col-2">
                                                    <div class="text-field datepicker" style="width: 200px">
                                                        <input th:attr="id=|qt-start-${stat.index}|" class="dp-input"
                                                            type="text" placeholder="YYYY-MM" data-dp-type="month"
                                                            autocomplete="off"
                                                            th:field="*{list[__${stat.index}__].lmtSttYm}" />
                                                        <button type="button" class="dp-btn" data-dp-toggle
                                                            aria-label="ë…„ ì›” ì„ íƒ ì—´ê¸°"></button>
                                                    </div>
                                                    <span>~</span>
                                                    <div class="text-field datepicker" style="width: 200px">
                                                        <input th:attr="id=|qt-end-${stat.index}|" class="dp-input"
                                                            type="text" placeholder="YYYY-MM" data-dp-type="month"
                                                            autocomplete="off"
                                                            th:field="*{list[__${stat.index}__].lmtEndYm}" />
                                                        <button type="button" class="dp-btn" data-dp-toggle
                                                            aria-label="ë…„ ì›” ì„ íƒ ì—´ê¸°"></button>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <input class="text-field js-amount" inputmode="numeric"
                                                    autocomplete="off" data-maxlen="10" maxlength="20"
                                                    th:field="*{list[__${stat.index}__].tgtAdptVal}" type="text" />
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </form>
                        </div>
                    </div>

                    <!-- ì›” -->
                    <div aria-labelledby="tab-2" class="tab-panel" id="panel-2" role="tabpanel">
                        <div class="table-wrap">
                            <form id="mon" th:object="${amtMon}">
                                <table class="table">
                                    <caption class="blind">ì§€ê¸‰ê¸ˆ ì‹ ì²­ í…Œì´ë¸”</caption>
                                    <thead>
                                        <tr>
                                            <th scope="col">ìˆœë²ˆ</th>
                                            <th scope="col">í•œë„ ì‹œì‘, ì¢…ë£Œ ê¸°ê°„(ì›”)</th>
                                            <th scope="col">í•œë„ê¸ˆì•¡(ì›)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr th:each="u, stat : ${mon}">
                                            <input th:field="*{list[__${stat.index}__].spfnLmtMngNo}" type="hidden" />
                                            <td th:text="${stat.count}"></td>
                                            <td>
                                                <div class="flex align-center col-2">
                                                    <div class="text-field datepicker" style="width: 200px">
                                                        <input th:attr="id=|mon-start-${stat.index}|" class="dp-input"
                                                            type="text" placeholder="YYYY-MM" data-dp-type="month"
                                                            autocomplete="off"
                                                            th:field="*{list[__${stat.index}__].lmtSttYm}" />
                                                        <button type="button" class="dp-btn" data-dp-toggle
                                                            aria-label="ë…„ ì›” ì„ íƒ ì—´ê¸°"></button>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <input class="text-field js-amount" inputmode="numeric"
                                                    autocomplete="off" data-maxlen="10" maxlength="20"
                                                    th:field="*{list[__${stat.index}__].tgtAdptVal}" type="text" />
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <footer class="modal-footer">
                <button class="btn btn-dark-line" data-dismiss type="button">ì·¨ì†Œ</button>
                <button class="btn btn-blue" data-dvs-cd="01" type="button">ì €ì¥</button>
            </footer>
        </th:block>

        <!-- (C) ê±´ìˆ˜ ì‹ ê·œ ëª¨ë‹¬ (ncnt) -->
        <th:block th:fragment="ncnt-modal">
            <header class="modal-header">
                <h3 class="modal-title">í•œë„(ê±´ìˆ˜) ì„¤ì •</h3>
                <button aria-label="ë‹«ê¸°" class="modal-close" data-dismiss type="button"></button>
            </header>
            <form th:object="${ncnt}">
                <div class="modal-body">
                    <div class="flex align-center justify-end">
                        <div class="flex col-">
                            <button class="btn btn-dark-line" id="newAddRow" type="button">í–‰ì¶”ê°€</button>
                            <button class="btn btn-dark-line" id="newRemoveRow" type="button">í–‰ì‚­ì œ</button>
                        </div>
                    </div>

                    <div class="table-wrap mt20">
                        <div class="table-scroll" id="newNcntTableScroll">
                            <table class="table" id="newNcntTable">
                                <caption class="blind">ì§€ê¸‰ê¸ˆ ì‹ ì²­ í…Œì´ë¸”</caption>
                                <thead>
                                    <tr>
                                        <th scope="col">ìµœì†Œí•œë„ê±´</th>
                                        <th scope="col">ìµœëŒ€í•œë„ê±´</th>
                                        <th scope="col">ì§€ê¸‰ë¥ (%)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="u, stat : ${arr}">
                                        <input th:field="*{list[__${stat.index}__].spfnLmtMngNo}" type="hidden" />
                                        <td><input class="text-field js-count" inputmode="numeric" autocomplete="off"
                                                data-maxlen="10" th:field="*{list[__${stat.index}__].minCndtVal}"
                                                type="text" /></td>
                                        <td><input class="text-field js-count" inputmode="numeric" autocomplete="off"
                                                data-maxlen="10" th:field="*{list[__${stat.index}__].maxCndtVal}"
                                                type="text" /></td>
                                        <td><input class="text-field js-percent" inputmode="numeric" autocomplete="off"
                                                th:field="*{list[__${stat.index}__].tgtAdptVal}" type="text" /></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <footer class="modal-footer">
                    <button class="btn btn-dark-line" data-dismiss type="button">ì·¨ì†Œ</button>
                    <button class="btn btn-blue js-save" data-dvs-cd="02" type="button">ì €ì¥</button>
                </footer>
            </form>
        </th:block>

        <!-- ì‹ ê·œ ì„¤ì • 1ë‹¨ê³„ ëª¨ë‹¬ -->
        <template id="tpl-selector-modal">
            <div class="__selector-modal-root selector-modal">
                <header class="modal-header">
                    <h3 class="modal-title">ì‹ ê·œ í•œë„ ì„¤ì • â€“ ì„œë¹„ìŠ¤ ì„ íƒ</h3>
                    <button aria-label="ë‹«ê¸°" class="modal-close" data-dismiss type="button"></button>
                </header>

                <style>
                    .selector-modal .modal-body {
                        overflow: visible
                    }

                    .selector-modal .dropdown {
                        position: relative;
                        width: 280px
                    }

                    .selector-modal .dropdown_button {
                        width: 100%
                    }

                    .selector-modal .dropdown_list {
                        position: absolute;
                        top: calc(100% + 8px);
                        left: 0;
                        right: 0;
                        max-height: 280px;
                        overflow: auto;
                        background: #fff;
                        border: 1px solid #e5e7eb;
                        border-radius: 8px;
                        box-shadow: 0 12px 30px rgba(0, 0, 0, .12);
                        z-index: 1060;
                    }

                    .selector-modal .dropdown_list .dropdown_option {
                        padding: 10px 12px;
                        cursor: pointer
                    }

                    .selector-modal .dropdown_list .dropdown_option[aria-disabled="true"] {
                        color: #999;
                        cursor: default
                    }

                    .selector-modal .cascading-dropdowns {
                        display: flex;
                        gap: 16px;
                        flex-wrap: wrap;
                        align-items: flex-start
                    }
                </style>

                <div class="modal-body">
                    <p class="mb12" style="margin:0 0 16px; line-height:1.5;">ì‹ ê·œ í•œë„ ì„¤ì •ì„ ì§„í–‰í•  <strong>ì„œë¹„ìŠ¤/ìœ í˜•</strong>ì„
                        ì„ íƒí•˜ì„¸ìš”.</p>
                    <div style="display:flex; gap:16px; flex-wrap:wrap; margin:0 0 20px;">
                        <th:block th:replace="~{common/fragment/dropdowns :: cascadingDropdown(
                            'svcPair-modal','tpwSvcIdSel','tpwSvcTypIdSel'
                        )}"></th:block>
                    </div>
                </div>

                <footer class="modal-footer">
                    <button class="btn btn-dark-line" data-dismiss type="button">ì·¨ì†Œ</button>
                    <button class="btn btn-blue js-next" type="button">ë‹¤ìŒ</button>
                </footer>
            </div>
        </template>

        el.addEventListener('input', () => {
        <script th:inline="javascript" type="text/javascript">
            (function () {
                // sendSafe ì‹œê·¸ë‹ˆì²˜ ë³´ì •
                if (window.Common && typeof window.Common.sendSafe === 'function') {
                    const __origSendSafe = window.Common.sendSafe.bind(window.Common);
                    window.Common.sendSafe = function (arg1, arg2) {
                        if (typeof arg1 === 'string') return __origSendSafe(Object.assign({ url: arg1 }, arg2 || {}));
                        return __origSendSafe(arg1 || {});
                    };
                }

                const baseUrl = '/sprtpolimng/polimnginf/sprtLmtPt.do';
                const grid = document.getElementById('grid');
                const head = document.getElementById('grid-head');
                const searchForm = grid.querySelector('form');
                const selectSize = searchForm?.querySelector('select[name="size"]');
                const inputSort = document.getElementById('sort');
                const inputDir = document.getElementById('dir');
                const modal = document.getElementById('modal-manager');
                let __newFlowSelected = null; // ì‹ ê·œ 1ë‹¨ê³„ì—ì„œ ê³ ë¥¸ ì„œë¹„ìŠ¤/ìœ í˜• ë³´ê´€
                // ì—‘ì…€ ë²„íŠ¼
                grid.addEventListener('click', (e) => {
                    const exportBtn = e.target.closest('button[data-export="xlsx"]');
                    if (!exportBtn) return;
                    Common.bindExcelExport(searchForm, exportBtn, inputSort.value, inputDir.value, 'tpwSvcTypId');
                });

                // í˜ì´ì§• ì´ˆê¸°í™”
                bindPagination(baseUrl, {
                    size: parseInt(selectSize?.value || '10', 10),
                    dir: inputDir?.value || 'asc',
                    sort: inputSort?.value || 'tpwSvcTypId'
                });

                // ì •ë ¬
                head.addEventListener('click', (e) => {
                    const a = e.target.closest('a[data-sort]');
                    if (!a) return;
                    e.preventDefault();
                    const next = a.dataset.sort;
                    const curr = inputSort?.value || 'tpw_svc_typ_id';
                    let dir = inputDir?.value || 'asc';
                    dir = next === curr ? (dir === 'asc' ? 'desc' : 'asc') : 'asc';

                    if (inputSort) inputSort.value = next;
                    if (inputDir) inputDir.value = dir;

                    const applied = Common.collectFromForm(searchForm);
                    Common.reloadList({
                        page: 0,
                        defaultSortColumn: 'tpw_svc_typ_id',
                        swapTargets: ['#grid-tbody', '#grid-pager', '#grid-header', '#grid-title'],
                        selectSize, baseUrl, inputSort, inputDir, applied
                    });
                });

                // ê²€ìƒ‰ submit
                searchForm?.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const applied = Common.collectFromForm(searchForm);
                    Common.reloadList({
                        page: 0,
                        defaultSortColumn: 'tpw_svc_typ_id',
                        swapTargets: ['#grid-tbody', '#grid-pager', '#grid-header', '#grid-title'],
                        selectSize, baseUrl, inputSort, inputDir, applied
                    });
                });

                // template ë‚´ <script> ì¬ì‹¤í–‰(í´ë°±)
                function runInlineScripts(root) {
                    const scripts = Array.from(root.querySelectorAll('script'));
                    for (const old of scripts) {
                        const s = document.createElement('script');
                        if (old.type) s.type = old.type;
                        if (old.noModule) s.noModule = true;
                        if (!old.src) s.textContent = old.textContent || '';
                        old.replaceWith(s);
                    }
                }

                // ìˆ«ì ìœ í‹¸
                const onlyDigits = (s) => (s || '').replace(/\D+/g, '');
                const fmtComma = (s) => s.replace(/\B(?=(\d{3})+(?!\d))/g, ',');

                // ìˆ«ì ì¸í’‹ ë§ˆìŠ¤í‚¹/ê²€ì¦ ë°”ì¸ë”©
                function bindNumericMasks(scope) {
                    const root = scope || document;

                    // ê¸ˆì•¡: 10ìë¦¬ ì œí•œ, í‘œì‹œ ì½¤ë§ˆ
                    root.querySelectorAll('.js-amount').forEach(el => {
                        const maxlen = parseInt(el.dataset.maxlen || '10', 10);
                        el.addEventListener('input', () => {
                            let v = onlyDigits(el.value).slice(0, maxlen);
                            el.value = v ? fmtComma(v) : '';
                        });
                        el.addEventListener('paste', (e) => {
                            e.preventDefault();
                            const text = (e.clipboardData || window.clipboardData).getData('text');
                            let v = onlyDigits(text).slice(0, maxlen);
                            el.value = v ? fmtComma(v) : '';
                        });
                    });

                    // ê±´ìˆ˜: ìˆ«ìë§Œ 10ìë¦¬
                    root.querySelectorAll('.js-count').forEach(el => {
                        const maxlen = parseInt(el.dataset.maxlen || '10', 10);
                        el.addEventListener('input', () => {
                            el.value = onlyDigits(el.value).slice(0, maxlen);
                        });
                        el.addEventListener('paste', (e) => {
                            e.preventDefault();
                            const text = (e.clipboardData || window.clipboardData).getData('text');
                            el.value = onlyDigits(text).slice(0, maxlen);
                        });
                    });

                    // í¼ì„¼íŠ¸: 0~100
                    root.querySelectorAll('.js-percent').forEach(el => {
                        function clamp() {
                            let v = onlyDigits(el.value);
                            if (v === '') { el.value = ''; return; }
                            let n = parseInt(v, 10);
                            if (isNaN(n)) n = 0;
                            if (n > 100) n = 100;
                            if (n < 0) n = 0;
                            el.value = String(n);
                        }
                        el.addEventListener('input', () => { el.value = onlyDigits(el.value).slice(0, 3); });
                        el.addEventListener('blur', clamp);
                        el.addEventListener('paste', (e) => {
                            e.preventDefault();
                            const text = (e.clipboardData || window.clipboardData).getData('text');
                            el.value = onlyDigits(text).slice(0, 3);
                            clamp();
                        });
                    });
                }

                // ì „ì†¡ ì „ì— ì½¤ë§ˆ ì œê±°/í´ë¨í”„
                function sanitizeBeforeSubmit(scope) {
                    const root = scope || document;
                    root.querySelectorAll('.js-amount').forEach(el => {
                        el.value = onlyDigits(el.value).slice(0, parseInt(el.dataset.maxlen || '10', 10));
                    });
                    root.querySelectorAll('.js-count').forEach(el => {
                        el.value = onlyDigits(el.value).slice(0, parseInt(el.dataset.maxlen || '10', 10));
                    });
                    root.querySelectorAll('.js-percent').forEach(el => {
                        let v = onlyDigits(el.value);
                        let n = v ? parseInt(v, 10) : 0;
                        if (n > 100) n = 100;
                        if (n < 0) n = 0;
                        el.value = String(n);
                    });
                    // ì›” ì…ë ¥(YYYY-MM)ì„ ì„œë²„ë¡œ ë³´ë‚¼ ë•ŒëŠ” YYYYMMìœ¼ë¡œ ë³€í™˜
                    root.querySelectorAll('.dp-input[data-dp-type="month"]').forEach(el => {
                        const v = (el.value || '').trim();
                        if (/^\d{4}-\d{2}$/.test(v)) el.value = v.replace('-', '');
                    });
                }

                // ë¶„ê¸° íƒ­ í¸ì§‘ ì œí•œ + ìë™ ë¶„ê¸° ê³„ì‚° + ì›” íƒ­ readonly
                function initQuarterOnlyEdit(scope) {
                    const root = scope || document;

                    // ì›” íƒ­ ì „ì²´ ì½ê¸°ì „ìš©
                    const monForm = root.querySelector('#mon');
                    if (monForm) {
                        monForm.querySelectorAll('.dp-input').forEach(i => {
                            i.readOnly = true;
                            i.closest('.text-field')?.classList.add('readonly');
                        });
                        monForm.querySelectorAll('.dp-btn').forEach(b => { b.disabled = true; });
                    }

                    const qtForm = root.querySelector('#qt');
                    if (!qtForm) { bindNumericMasks(root); return; }

                    modal.classList.add('qtr-readonly');

                    const rows = Array.from(qtForm.querySelectorAll('tbody tr'));
                    if (!rows.length) { bindNumericMasks(root); return; }

                    const allInputs = Array.from(qtForm.querySelectorAll('.dp-input'));
                    const allBtns = Array.from(qtForm.querySelectorAll('.dp-btn'));
                    const firstStart = qtForm.querySelector('#qt-start-0') || allInputs[0];

                    // ëª¨ë‘ ì ê·¸ê³  ì²« ì‹œì‘ë§Œ í™œì„±
                    allInputs.forEach(i => {
                        i.readOnly = true;
                        i.closest('.text-field')?.classList.add('readonly');
                    });
                    allBtns.forEach(b => { b.disabled = true; });
                    if (firstStart) {
                        firstStart.readOnly = false;
                        firstStart.closest('.text-field')?.classList.remove('readonly');
                        const firstBtn = firstStart.closest('.text-field')?.querySelector('.dp-btn');
                        if (firstBtn) firstBtn.disabled = false;
                    }

                    // ë‚ ì§œ ìœ í‹¸
                    function parseYm(val) {
                        const s = String(val || '').trim();
                        let y, m;
                        if (/^\d{4}-\d{2}$/.test(s)) { y = +s.slice(0, 4); m = +s.slice(5, 7); }
                        else if (/^\d{6}$/.test(s)) { y = +s.slice(0, 4); m = +s.slice(4, 6); }
                        else return null;
                        if (m < 1 || m > 12) return null;
                        return { y, m };
                    }
                    const fmtYm = (y, m) => `${y}-${m < 10 ? '0' : ''}${m}`;
                    const addMonths = (y, m, off) => {
                        const z = y * 12 + (m - 1) + off;
                        return { y: Math.floor(z / 12), m: (z % 12) + 1 };
                    };

                    function applyQuarters() {
                        const base = parseYm(firstStart.value);
                        if (!base) return;
                        rows.forEach((tr, idx) => {
                            const sInput = tr.querySelector('[id^="qt-start-"]');
                            const eInput = tr.querySelector('[id^="qt-end-"]');
                            if (!sInput || !eInput) return;
                            const s = addMonths(base.y, base.m, idx * 3);
                            const e = addMonths(s.y, s.m, 2);
                            sInput.value = fmtYm(s.y, s.m);
                            eInput.value = fmtYm(e.y, e.m);
                        });
                    }

                    applyQuarters();
                    firstStart.addEventListener('input', applyQuarters);
                    firstStart.addEventListener('change', applyQuarters);

                    bindNumericMasks(root);
                }

                // ì‹ ê·œ í•œë„ 1ë‹¨ê³„ ëª¨ë‹¬ í‘œì‹œ(ëª¨ë‹¬ ì»¨í…Œì´ë„ˆë§Œ ì´ˆê¸°í™”)
                async function showSelectorModal() {
                    const tpl = document.getElementById('tpl-selector-modal');
                    const container = modal.querySelector('.modal-container');
                    container.innerHTML = '';
                    const clone = document.importNode(tpl.content, true);
                    container.appendChild(clone);

                    if (window.Dropdowns && typeof window.Dropdowns.init === 'function') {
                        window.Dropdowns.init(container);
                    } else {
                        runInlineScripts(container);
                    }

                    Common.openModal ? Common.openModal('#modal-manager') : modal.setAttribute('aria-hidden', 'false');
                    modal.classList.add('is-open');
                    document.body.classList.add('modal-open');
                    (container || modal).focus();
                }

                // 1ë‹¨ê³„ ì„ íƒ í›„ 2ë‹¨ê³„ ëª¨ë‹¬ ë¡œë“œ(ëª¨ë‹¬ ì»¨í…Œì´ë„ˆë§Œ ì´ˆê¸°í™”)
                async function proceedNewFlow() {
                    const cas = document.getElementById('svcPair-modal')?.getSelectedObjects?.('svcPair-modal');
                    if (!cas || !cas.valid) {
                        Common.modalShow({ message: 'ì„œë¹„ìŠ¤ì™€ ì„œë¹„ìŠ¤ ìœ í˜•ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.', title: 'ì•Œë¦¼', buttons: 'close' });
                        return;
                    }

                    // ğŸ”¹ ì„ íƒê°’ì„ ë©”ëª¨ë¦¬ & datasetì— ë³´ê´€
                    __newFlowSelected = cas;
                    modal.dataset.tpwSvcId = cas.child.tpwSvcId;
                    modal.dataset.tpwSvcTypId = cas.child.tpwSvcTypId;

                    const container = modal.querySelector('.modal-container');
                    try {
                        if (cas.child.trdNcntLtnAdptYn === 'N') {
                            const html = await Common.fetchHtml('/sprtpolimng/polimnginf/sprtLmtDtl/new/amt');
                            container.innerHTML = html;
                            if (window.Dropdowns?.init) { window.Dropdowns.init(container); } else { runInlineScripts(container); }
                            initQuarterOnlyEdit(container);
                        } else if (cas.child.trdNcntLtnAdptYn === 'Y') {
                            const html = await Common.fetchHtml('/sprtpolimng/polimnginf/sprtLmtDtl/new/ncnt');
                            container.innerHTML = html;
                            if (window.Dropdowns?.init) { window.Dropdowns.init(container); } else { runInlineScripts(container); }
                            modal.classList.remove('qtr-readonly');
                            bindNumericMasks(container);
                        } else {
                            Common.modalShow({ message: 'ì„ íƒí•œ ì„œë¹„ìŠ¤ ìœ í˜•ì˜ í•œë„ ìœ í˜• ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.', title: 'ì•Œë¦¼', buttons: 'close' });
                            return;
                        }
                    } catch (e) { console.error(e); }
                }
                // ì‹ ê·œ ncnt: í–‰ ì¶”ê°€/ì‚­ì œ
                function addRow(tableId, listName) {
                    const tbody = document.querySelector(`#${tableId} tbody`);
                    if (!tbody) return;
                    const index = tbody.querySelectorAll('tr').length;
                    const row = document.createElement('tr');
                    row.innerHTML = `
                  <td><input type="text" class="text-field js-count"   inputmode="numeric" autocomplete="off" name="${listName}[${index}].minCndtVal"/></td>
                  <td><input type="text" class="text-field js-count"   inputmode="numeric" autocomplete="off" name="${listName}[${index}].maxCndtVal"/></td>
                  <td><input type="text" class="text-field js-percent" inputmode="numeric" autocomplete="off" name="${listName}[${index}].tgtAdptVal"/></td>
                `;
                    tbody.appendChild(row);
                    const sc = document.getElementById('newNcntTableScroll');
                    if (sc) sc.scrollTop = sc.scrollHeight;
                    bindNumericMasks(tbody);
                }
                function removeLastRow(tableId) {
                    const tbody = document.querySelector(`#${tableId} tbody`);
                    if (!tbody) return;
                    const rows = tbody.querySelectorAll('tr');
                    if (rows.length > 0) rows[rows.length - 1].remove();
                }

                // ì €ì¥ ê²°ê³¼ ì²˜ë¦¬ + ëª©ë¡ ê°±ì‹ 
                function resModal(res) {
                    if (res?.ok) Common.modalShow({ message: 'ì €ì¥ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.', title: 'ì•Œë¦¼', buttons: 'close' });
                    else Common.modalShow({ message: 'ì €ì¥ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤.', title: 'ì•Œë¦¼', buttons: 'close' });

                    const applied = Common.collectFromForm(searchForm);
                    Common.reloadList({
                        page: 0,
                        defaultSortColumn: 'tpw_svc_typ_id',
                        swapTargets: ['#grid-tbody', '#grid-pager', '#grid-header', '#grid-title'],
                        selectSize, baseUrl, inputSort, inputDir, applied
                    });
                }

                // ìœ„ì„ í´ë¦­
                document.addEventListener('click', async (e) => {
                    const newBtn = e.target.closest('#new-modal[data-mode="new"]');
                    if (newBtn) { e.preventDefault(); await showSelectorModal(); return; }

                    const nextBtn = e.target.closest('.js-next');
                    if (nextBtn && modal.contains(nextBtn)) { e.preventDefault(); await proceedNewFlow(); return; }

                    const btnOpen = e.target.closest('.open-modal');
                    if (btnOpen && btnOpen.id !== 'new-modal') {
                        e.preventDefault();
                        const tpwSvcTypId = btnOpen.getAttribute('data-id') || '';
                        const useYn = btnOpen.getAttribute('data-use-yn') || 'Y';
                        if (!tpwSvcTypId) return;
                        try {
                            const html = await Common.fetchHtml('/sprtpolimng/polimnginf/sprtLmtDtl/' + encodeURIComponent(useYn) + '/' + encodeURIComponent(tpwSvcTypId));
                            const container = modal.querySelector('.modal-container');
                            container.innerHTML = html;

                            if (window.Dropdowns && typeof window.Dropdowns.init === 'function') {
                                window.Dropdowns.init(container);
                            } else {
                                runInlineScripts(container);
                            }

                            initQuarterOnlyEdit(container);
                            bindNumericMasks(container);

                            modal.setAttribute('aria-hidden', 'false');
                            modal.classList.add('is-open');
                            document.body.classList.add('modal-open');
                            (container || modal).focus();
                        } catch (err) {
                            console.error(err);
                            Common.modalShow({ message: 'ìƒì„¸ í™”ë©´ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.', title: 'ì˜¤ë¥˜', buttons: 'close' });
                        }
                        return;
                    }

                    // ëª¨ë‹¬ ë‚´ë¶€ ë²„íŠ¼ (ì €ì¥/ì·¨ì†Œ/í–‰ì¶”ê°€/í–‰ì‚­ì œ)
                    const modalBtn = e.target.closest('#modal-manager .btn');
                    if (!modalBtn) return;
                    const label = (modalBtn.textContent || '').trim();

                    if (label === 'ì €ì¥') {
                        const dvsCdEl = document.getElementById('dvsCd');
                        const dvsCd = dvsCdEl ? dvsCdEl.value : modalBtn.dataset.dvsCd;
                        try {
                            if (dvsCd === '01') {
                                const amountForm = modal.querySelector('form');
                                sanitizeBeforeSubmit(amountForm);
                                const applied = Common.collectAsJson(amountForm);
                                const tpwSvcTypId = modal.querySelector('button.btn-blue')?.getAttribute('data-typ-id')
                                    || modalBtn.getAttribute('data-typ-id') || '';
                                const url = '/sprtpolimng/polimnginf/sprtLmt/amt/' + encodeURIComponent(tpwSvcTypId) + '/edit';
                                e.preventDefault();
                                const res = await Common.sendSafe(url, { method: 'POST', data: applied.list });
                                Common.closeModal('#modal-manager'); resModal(res);
                            } else if (dvsCd === '02') {
                                const ncntForm = modal.querySelector('form');
                                sanitizeBeforeSubmit(ncntForm);
                                const applied = Common.collectAsJson(ncntForm);
                                const tpwSvcTypId = modal.querySelector('button.btn-blue')?.getAttribute('data-typ-id')
                                    || modalBtn.getAttribute('data-typ-id') || '';
                                const url = '/sprtpolimng/polimnginf/sprtLmt/ncnt/' + encodeURIComponent(tpwSvcTypId) + '/edit';
                                e.preventDefault();
                                const res = await Common.sendSafe(url, { method: 'POST', data: applied.list });
                                Common.closeModal('#modal-manager'); resModal(res);
                            } else {
                                // ì‹ ê·œ ì‘ì„± ì¼€ì´ìŠ¤
                                const tpwLmtDvsCd = modalBtn.dataset.dvsCd;

                                // ğŸ”¹ 1ìˆœìœ„: 1ë‹¨ê³„ ë•Œ ë³´ê´€í•œ ë©”ëª¨ë¦¬, 2ìˆœìœ„: dataset, 3ìˆœìœ„: í˜ì´ì§€ ìƒë‹¨ì˜ svcPair1(í´ë°±)
                                let cas = __newFlowSelected;
                                if (!cas && modal.dataset.tpwSvcId && modal.dataset.tpwSvcTypId) {
                                    cas = { valid: true, child: { tpwSvcId: modal.dataset.tpwSvcId, tpwSvcTypId: modal.dataset.tpwSvcTypId } };
                                }
                                if (!cas) {
                                    cas = document.getElementById('svcPair1')?.getSelectedObjects?.('svcPair1') || null;
                                }
                                if (!cas || !cas.valid) {
                                    Common.modalShow({ message: 'ì„œë¹„ìŠ¤/ìœ í˜• ì„ íƒ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì„ íƒí•´ ì£¼ì„¸ìš”.', title: 'ì•Œë¦¼', buttons: 'close' });
                                    return;
                                }

                                if (tpwLmtDvsCd === '01') {
                                    const amtPanelForm = modal.querySelector('form');
                                    sanitizeBeforeSubmit(amtPanelForm);
                                    const applied = Common.collectAsJson(amtPanelForm);
                                    const url = '/sprtpolimng/polimnginf/sprtLmt/amt';
                                    e.preventDefault();
                                    applied.tpwSvcId = cas.child.tpwSvcId;
                                    applied.tpwSvcTypId = cas.child.tpwSvcTypId;
                                    applied.tpwLmtDvsCd = '01';
                                    applied.tpwLmtTypCd = '01';
                                    const res = await Common.sendSafe(url, { method: 'POST', data: applied });
                                    Common.closeModal('#modal-manager'); resModal(res);
                                } else if (tpwLmtDvsCd === '02') {
                                    const ncntForm = modal.querySelector('form');
                                    sanitizeBeforeSubmit(ncntForm);
                                    const applied = Common.collectAsJson(ncntForm);
                                    const url = '/sprtpolimng/polimnginf/sprtLmt/ncnt';
                                    applied.tpwSvcId = cas.child.tpwSvcId;
                                    applied.tpwSvcTypId = cas.child.tpwSvcTypId;
                                    applied.tpwLmtDvsCd = '02';
                                    applied.tpwLmtTypCd = '01';
                                    e.preventDefault();
                                    const res = await Common.sendSafe(url, { method: 'POST', data: applied });
                                    Common.closeModal('#modal-manager'); resModal(res);
                                }
                            }
                        } catch (err) {
                            console.error(err);
                            alert(err.message || 'ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                        }
                    } else if (label === 'ì·¨ì†Œ') {
                        Common.closeModal('#modal-manager');
                        modal.classList.remove('qtr-readonly');
                    } else if (label === 'í–‰ì¶”ê°€') {
                        addRow('newNcntTable', 'list');
                    } else if (label === 'í–‰ì‚­ì œ') {
                        removeLastRow('newNcntTable');
                    }
                });

                // ìµœì´ˆ ìˆ«ì ë§ˆìŠ¤í‚¹ ë°”ì¸ë”©
                bindNumericMasks(document);
            })();
        </script>

    </th:block>
</th:block>

</html>