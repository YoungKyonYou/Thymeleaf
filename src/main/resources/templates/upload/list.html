<!-- src/main/resources/templates/upload/_list.html -->
<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<body>
<th:block th:fragment="list(savedFiles)">
    <div th:if="${savedFiles != null and savedFiles.size() > 0}">
        <h5 class="mt-4">저장된 파일</h5>

        <!-- 선택 삭제 폼 (id 부여) -->
        <form id="delete-form" th:action="@{/file/delete}" method="post">
            <ul class="list-group">
                <li th:each="f : ${savedFiles}" class="list-group-item d-flex align-items-center justify-content-between">
                    <div class="d-flex align-items-center gap-2" style="min-width:0">
                        <input type="checkbox" name="filenames" th:value="${f}">
                        <span class="text-truncate" style="max-width:60%" th:text="${f}">saved-name.ext</span>
                    </div>
                    <span class="d-flex gap-2">
            <a class="btn btn-sm btn-outline-secondary" th:href="@{|/file/view/${f}|}" target="_blank">보기</a>
            <a class="btn btn-sm btn-primary" th:href="@{|/file/download/${f}|}">다운로드</a>
          </span>
                </li>
            </ul>

            <div class="mt-3 d-flex gap-2">
                <button type="submit" class="btn btn-outline-danger">선택 초기화</button>
                <button type="button" id="reset-btn" class="btn btn-danger">전체 초기화</button>
            </div>
        </form>
    </div>
</th:block>
</body>
</html>
