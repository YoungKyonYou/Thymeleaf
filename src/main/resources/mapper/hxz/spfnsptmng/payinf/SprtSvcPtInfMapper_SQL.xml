<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="tmoney.co.kr.hxz.spfnsprtmng.payinf.mapper.SprtSvcPtInfMapper">

    <resultMap id="SprtSvcDtlResultMap" type="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcDtlRspVO">
        <id property="tpwSvcId" column="tpwSvcId"/>

        <result property="orgCd" column="orgCd"/>
        <result property="tpwOrgNm" column="tpwOrgNm"/>
        <result property="tpwSvcCtt" column="tpwSvcCtt"/>
        <result property="tpwSvcSttDt" column="tpwSvcSttDt"/>
        <result property="tpwSvcEndDt" column="tpwSvcEndDt"/>
        <result property="tpwSvcNm" column="tpwSvcNm"/>

        <collection property="svcTypList"
                    column="{tpwSvcId=tpwSvcId}"
                    javaType="java.util.List"
                    ofType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcTypRspVO"
                    select="readSvcTypListBySvcId" />
    </resultMap>

    <select id="readSprtSvcPtInfList"
            parameterType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcPtInfReqVO"
            resultMap="SprtSvcDtlResultMap">

        /* 부모 테이블(201)만 조회하여 limit 개수 정확도 보장 */
        select
        m201.org_cd             as orgCd,
        m009.tpw_org_nm         as tpwOrgNm,
        m201.tpw_svc_ctt        as tpwSvcCtt,
        m201.tpw_svc_stt_dt     as tpwSvcSttDt,
        m201.tpw_svc_end_dt     as tpwSvcEndDt,
        m201.tpw_svc_nm         as tpwSvcNm,
        m201.tpw_svc_id         as tpwSvcId
        from ohxzown.tbhxzm201 m201
        join ohxzown.tbhxzm009 m009
        on m201.org_cd = m009.org_cd

        where m201.use_yn = 'Y'

        <if test="orgCd != null and orgCd != '' and orgCd != '0000000'">
            and m201.org_cd = #{orgCd}
        </if>

        <if test="req.tpwSvcNm != null and req.tpwSvcNm != ''">
            and m201.tpw_svc_nm like concat('%', #{req.tpwSvcNm}, '%')
        </if>

        <if test="req.sttDt != null and req.sttDt != '' and req.endDt != null and req.endDt != ''">
            and (
            m201.tpw_svc_stt_dt between #{req.sttDt} and #{req.endDt}
            or
            m201.tpw_svc_end_dt between #{req.sttDt} and #{req.endDt}
            )
        </if>

        <if test="req.tpwMbrsTypCdNm != null and req.tpwMbrsTypCdNm != ''">
            /* 자식 조건 검색 시 exists 사용 */
            and exists (
            select 1
            from ohxzown.tbhxzm202 sub202
            join ohxzown.tbhxzm103 sub103 on sub202.tpw_mbrs_typ_cd = sub103.tpw_mbrs_typ_cd
            where sub202.tpw_svc_id = m201.tpw_svc_id
            and sub103.tpw_mbrs_typ_cd_nm like concat('%', #{req.tpwMbrsTypCdNm}, '%')
            )
        </if>

        order by m201.${req.sort} ${req.dir}

        limit #{req.size}::integer offset (#{req.page}::integer * #{req.size}::integer)
    </select>

    <select id="readSvcTypListBySvcId" parameterType="map" resultType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcTypRspVO">
        select
        m202.tpw_svc_typ_id     as tpwSvcTypId,
        m202.tpw_svc_typ_sno    as tpwSvcTypSno,
        m202.tpw_svc_typ_nm     as tpwSvcTypNm,
        m202.tpw_mbrs_typ_cd    as tpwMbrsTypCd
        from ohxzown.tbhxzm202 m202
        where m202.tpw_svc_id = #{tpwSvcId}
        and m202.use_yn = 'Y'
        order by m202.tpw_svc_typ_sno desc
    </select>

    <select id="readSprtSvcPtInfListCnt"
            parameterType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcPtInfReqVO"
            resultType="Long">
        select count(1)
        from ohxzown.tbhxzm201 m201
        join ohxzown.tbhxzm009 m009 on m201.org_cd = m009.org_cd
        where m201.use_yn = 'Y'

        <if test="orgCd != null and orgCd != '' and orgCd != '0000000'">
            and m201.org_cd = #{orgCd}
        </if>
        <if test="req.tpwSvcNm != null and req.tpwSvcNm != ''">
            and m201.tpw_svc_nm like concat('%', #{req.tpwSvcNm}, '%')
        </if>
        <if test="req.sttDt != null and req.sttDt != '' and req.endDt != null and req.endDt != ''">
            and (
            m201.tpw_svc_stt_dt between #{req.sttDt} and #{req.endDt}
            or
            m201.tpw_svc_end_dt between #{req.sttDt} and #{req.endDt}
            )
        </if>
        <if test="req.tpwMbrsTypCdNm != null and req.tpwMbrsTypCdNm != ''">
            and exists (
            select 1
            from ohxzown.tbhxzm202 sub202
            join ohxzown.tbhxzm103 sub103 on sub202.tpw_mbrs_typ_cd = sub103.tpw_mbrs_typ_cd
            where sub202.tpw_svc_id = m201.tpw_svc_id
            and sub103.tpw_mbrs_typ_cd_nm like concat('%', #{req.tpwMbrsTypCdNm}, '%')
            )
        </if>
    </select>

    <select id="readSprtSvcPtInf"
            parameterType="map"
            resultType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcDtlRspVO">
        select
        m201.org_cd             as orgCd,
        m009.tpw_org_nm         as tpwOrgNm,
        m201.tpw_svc_id         as tpwSvcId,
        m201.tpw_svc_ctt        as tpwSvcCtt,
        m201.tpw_svc_stt_dt     as tpwSvcSttDt,
        m201.tpw_svc_end_dt     as tpwSvcEndDt,
        m201.tpw_svc_nm         as tpwSvcNm,
        m201.krn_chec_yn        as krnChecYn,
        m201.use_yn             as useYn,
        m201.acng_trdp_no       as acngTrdpNo,
        m201.bnk_trn_ctt        as bnkTrnCtt,
        m201.tpw_svc_scrn_path_nm as tpwSvcScrnPathNm
        from ohxzown.tbhxzm201 m201
        join ohxzown.tbhxzm009 m009 on m009.org_cd = m201.org_cd and m009.use_yn = 'Y'
        where m201.org_cd = #{orgCd}
        and m201.tpw_svc_id = #{tpwSvcId}
    </select>

    <select id="readSprtSvcTypListPaging"
            parameterType="map"
            resultType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcTypRspVO">

        select
        (select tpw_org_nm from tbhxzm009 where org_cd = m201.org_cd and use_yn = 'Y' limit 1) as orgNm,
        m201.tpw_svc_nm as tpwSvcNm,
        m202.*
        from (
        /* 최신 이력(rn=1)만 필터링 */
        select
        x.*,
        row_number() over (
        partition by x.tpw_svc_id, x.tpw_svc_typ_id
        order by x.tpw_svc_typ_sno desc
        ) as rn
        from ohxzown.tbhxzm202 x
        where x.tpw_svc_id = #{tpwSvcId}
        and x.use_yn = 'Y'
        ) m202
        join ohxzown.tbhxzm201 m201
        on m201.tpw_svc_id = m202.tpw_svc_id
        where m202.rn = 1
        and m201.use_yn = 'Y'

        order by m202.tpw_svc_typ_id asc

        /* [fix] 파라미터 형변환 (::integer) 적용 */
        limit #{size}::integer offset #{offset}::integer
    </select>

    <select id="readSprtSvcTypListCnt" parameterType="String" resultType="long">
        select count(*)
        from (
        select
        row_number() over (
        partition by tpw_svc_id, tpw_svc_typ_id
        order by tpw_svc_typ_sno desc
        ) as rn
        from ohxzown.tbhxzm202
        where tpw_svc_id = #{tpwSvcId}
        and use_yn = 'Y'
        ) t
        where t.rn = 1
    </select>



    <insert id="saveSprtSvcPtInf"
            parameterType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcPtInfRspVO">
        insert into ohxzown.tbhxzm201 (
        org_cd,
        tpw_svc_id,
        tpw_svc_nm,
        tpw_svc_stt_dt,
        tpw_svc_end_dt,
        tpw_svc_ctt,
        krn_chec_yn,
        use_yn,
        acng_trdp_no,
        bnk_trn_ctt,
        tpw_svc_scrn_path_nm,
        rgsr_id,
        rgt_dtm,
        updr_id,
        upd_dtm
        )
        select
        #{orgCd},
        (
        select
        substr(#{orgCd}, 1, 4) || lpad(cast(coalesce(cast(max(substr(tpw_svc_id, 5, 3)) as integer), 0) + 1 as text), 3, '0')
        from ohxzown.tbhxzm201
        where tpw_svc_id like substr(#{orgCd}, 1, 4) || '%'
        and org_cd = #{orgCd}
        ),
        #{tpwSvcNm},
        #{tpwSvcSttDt},
        #{tpwSvcEndDt},
        #{tpwSvcCtt},
        #{krnChecYn},
        #{useYn},
        #{acngTrdpNo},
        #{bnkTrnCtt},
        #{tpwSvcScrnPathNm},
        'system',
        to_char(now(), 'YYYYMMDDHH24MISS'),
        'system',
        to_char(now(), 'YYYYMMDDHH24MISS')
    </insert>

    <update id="updateSprtSvcPtInf"
            parameterType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcPtInfRspVO">
        update ohxzown.tbhxzm201
        set
        tpw_svc_nm       = #{tpwSvcNm},
        tpw_svc_stt_dt   = #{tpwSvcSttDt},
        tpw_svc_end_dt   = #{tpwSvcEndDt},
        tpw_svc_ctt      = #{tpwSvcCtt},
        krn_chec_yn      = #{krnChecYn},
        use_yn           = #{useYn},
        acng_trdp_no     = #{acngTrdpNo},
        bnk_trn_ctt      = #{bnkTrnCtt},
        updr_id          = 'system',
        upd_dtm          = to_char(now(), 'YYYYMMDDHH24MISS')
        where org_cd = #{orgCd}
        and tpw_svc_id = #{tpwSvcId}
    </update>

    <select id="readSprtSvcTypList" parameterType="map" resultType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcTypRspVO">
        select
        (select tpw_org_nm from tbhxzm009 where org_cd = m201.org_cd and use_yn = 'Y' limit 1) as orgNm,
        m201.tpw_svc_nm as tpwSvcNm,
        m202.tpw_mbrs_typ_cd as tpwMbrsTypCd,
        m202.tpw_mntn_cd as tpwMntnCd,
        m202.tpw_trd_org_cd as tpwTrdOrgCd,
        m202.use_yn as useYn,
        m202.tpw_stlm_cyc_dvs_cd as tpwStlmCycDvsCd,
        m202.sprt_dplc_yn as sprtDplcYn,
        m202.tpw_rsdc_auth_cyc_cd as tpwRsdcAuthCycCd,
        m202.tpw_stlm_act_dvs_cd as tpwStlmActDvsCd,
        m202.aut_apl_yn as autAplYn,
        m202.frgn_sprt_yn as frgnSprtYn,
        m202.tpw_crov_dvs_cd as tpwCrovDvsCd,
        m202.trns_trd_mlpr_ex_yn as trnsTrdMlprExYn,
        m202.evdn_yn as evdnYn,
        m202.trd_ncnt_ltn_adpt_yn as trdNcntLtnAdptYn,
        m201.org_cd as orgCd,
        m202.tpw_svc_id as tpwSvcId,
        m202.tpw_svc_typ_id as tpwSvcTypId,
        m202.tpw_svc_typ_sno as tpwSvcTypSno,
        m202.tpw_svc_typ_nm as tpwSvcTypNm,
        m202.tpw_svc_typ_ctt as tpwSvcTypCtt,
        m202.tpw_stlm_ctg_cd as tpwStlmCtgCd,
        m202.stlm_ctg_adpt_val as stlmCtgAdptVal,
        m202.trns_trd_req_yn as trnsTrdReqYn,
        m202.ldgr_trd_req_yn as ldgrTrdReqYn,
        m202.taxi_trd_req_yn as taxiTrdReqYn,
        m202.area_trd_req_yn as areaTrdReqYn
        from (
            select
            x.*,
            row_number() over (
            partition by x.tpw_svc_id, x.tpw_svc_typ_id
            order by x.tpw_svc_typ_sno desc
            ) as rn
            from ohxzown.tbhxzm202 x
            where x.tpw_svc_id = #{tpwSvcId} /* 성능을 위해 안쪽에서 1차 필터링 */
            and x.use_yn = 'Y'
            ) m202
          join ohxzown.tbhxzm201 m201
            on m201.tpw_svc_id = m202.tpw_svc_id
            where m202.rn = 1 /* 가장 최신(SNO가 가장 큰) 데이터만 선택 */
            and m201.use_yn = 'Y'
            order by m202.tpw_svc_typ_id asc /* 유형 ID 기준 정렬 */
        limit #{size}::integer offset (#{page}::integer * #{size}::integer)
    </select>


<!--    <select id="readSprtSvcTypListPaging" parameterType="map" resultType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcTypRspVO">-->
<!--        select-->
<!--        (select tpw_org_nm from tbhxzm009 where org_cd = m201.org_cd and use_yn = 'Y' limit 1) as orgNm,-->
<!--        m201.tpw_svc_nm as tpwSvcNm,-->
<!--        m202.tpw_mbrs_typ_cd as tpwMbrsTypCd,-->
<!--        m202.tpw_mntn_cd as tpwMntnCd,-->
<!--        m202.tpw_trd_org_cd as tpwTrdOrgCd,-->
<!--        m202.use_yn as useYn,-->
<!--        m202.tpw_stlm_cyc_dvs_cd as tpwStlmCycDvsCd,-->
<!--        m202.sprt_dplc_yn as sprtDplcYn,-->
<!--        m202.tpw_rsdc_auth_cyc_cd as tpwRsdcAuthCycCd,-->
<!--        m202.tpw_stlm_act_dvs_cd as tpwStlmActDvsCd,-->
<!--        m202.aut_apl_yn as autAplYn,-->
<!--        m202.frgn_sprt_yn as frgnSprtYn,-->
<!--        m202.tpw_crov_dvs_cd as tpwCrovDvsCd,-->
<!--        m202.trns_trd_mlpr_ex_yn as trnsTrdMlprExYn,-->
<!--        m202.evdn_yn as evdnYn,-->
<!--        m202.trd_ncnt_ltn_adpt_yn as trdNcntLtnAdptYn,-->
<!--        m201.org_cd as orgCd,-->
<!--        m202.tpw_svc_id as tpwSvcId,-->
<!--        m202.tpw_svc_typ_id as tpwSvcTypId,-->
<!--        m202.tpw_svc_typ_sno as tpwSvcTypSno,-->
<!--        m202.tpw_svc_typ_nm as tpwSvcTypNm,-->
<!--        m202.tpw_svc_typ_ctt as tpwSvcTypCtt,-->
<!--        m202.tpw_stlm_ctg_cd as tpwStlmCtgCd,-->
<!--        m202.stlm_ctg_adpt_val as stlmCtgAdptVal,-->
<!--        m202.trns_trd_req_yn as trnsTrdReqYn,-->
<!--        m202.ldgr_trd_req_yn as ldgrTrdReqYn,-->
<!--        m202.taxi_trd_req_yn as taxiTrdReqYn,-->
<!--        m202.area_trd_req_yn as areaTrdReqYn-->
<!--        from tbhxzm202 m202-->
<!--        join tbhxzm201 m201-->
<!--        on m201.tpw_svc_id = m202.tpw_svc_id-->
<!--        where m202.tpw_svc_id = #{tpwSvcId}-->
<!--        and m202.use_yn = 'Y'-->
<!--        and m201.use_yn = 'Y'-->
<!--        order by m202.tpw_svc_typ_sno-->
<!--        limit #{size} offset #{offset}-->
<!--    </select>-->

<!--    <select id="readSprtSvcTypListCnt" parameterType="String" resultType="long">-->
<!--        select count(*)-->
<!--        from (-->
<!--        /* 1. 자식 테이블 최신 이력 필터링 */-->
<!--        select-->
<!--        x.tpw_svc_id,-->
<!--        x.tpw_svc_typ_id,-->
<!--        x.tpw_svc_typ_sno,-->
<!--        row_number() over (-->
<!--        partition by x.tpw_svc_id, x.tpw_svc_typ_id-->
<!--        order by x.tpw_svc_typ_sno desc-->
<!--        ) as rn-->
<!--        from ohxzown.tbhxzm202 x-->
<!--        where x.tpw_svc_id = #{tpwSvcId}-->
<!--        and x.use_yn = 'Y'-->
<!--        ) m202-->
<!--        /* 2. 부모 테이블 조인 (부모가 삭제된 경우 카운트에서 제외하기 위해 필수) */-->
<!--        join ohxzown.tbhxzm201 m201-->
<!--        on m201.tpw_svc_id = m202.tpw_svc_id-->
<!--        where m202.rn = 1-->
<!--        and m201.use_yn = 'Y'-->
<!--    </select>-->

    <select id="readSprtSvcTyp" parameterType="map" resultType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcTypRspVO">
        select
        m201.org_cd as orgCd,
        (select tpw_org_nm from tbhxzm009 where org_cd = m201.org_cd and use_yn = 'Y' limit 1) as orgNm,
        m201.tpw_svc_nm as tpwSvcNm,
        m202.tpw_mbrs_typ_cd as tpwMbrsTypCd,
        m202.tpw_mntn_cd as tpwMntnCd,
        m202.tpw_trd_org_cd as tpwTrdOrgCd,
        m202.use_yn as useYn,
        m202.tpw_stlm_cyc_dvs_cd as tpwStlmCycDvsCd,
        m202.sprt_dplc_yn as sprtDplcYn,
        m202.tpw_rsdc_auth_cyc_cd as tpwRsdcAuthCycCd,
        m202.tpw_stlm_act_dvs_cd as tpwStlmActDvsCd,
        m202.aut_apl_yn as autAplYn,
        m202.frgn_sprt_yn as frgnSprtYn,
        m202.tpw_crov_dvs_cd as tpwCrovDvsCd,
        m202.trns_trd_mlpr_ex_yn as trnsTrdMlprExYn,
        m202.evdn_yn as evdnYn,
        m202.trd_ncnt_ltn_adpt_yn as trdNcntLtnAdptYn,
        m201.org_cd as orgCd,
        m202.tpw_svc_id as tpwSvcId,
        m202.tpw_svc_typ_id as tpwSvcTypId,
        m202.tpw_svc_typ_sno as tpwSvcTypSno,
        m202.tpw_svc_typ_nm as tpwSvcTypNm,
        m202.tpw_svc_typ_ctt as tpwSvcTypCtt,
        m202.tpw_svc_typ_stt_dt as tpwSvcTypSttDt,
        m202.tpw_svc_typ_end_dt as tpwSvcTypEndDt,
        m202.tpw_stlm_ctg_cd as tpwStlmCtgCd,
        m202.stlm_ctg_adpt_val as stlmCtgAdptVal,
        m202.trns_trd_req_yn as trnsTrdReqYn,
        m202.ldgr_trd_req_yn as ldgrTrdReqYn,
        m202.taxi_trd_req_yn as taxiTrdReqYn,
        m202.area_trd_req_yn as areaTrdReqYn
        from tbhxzm202 m202
        join tbhxzm201 m201
        on m201.tpw_svc_id = m202.tpw_svc_id
        where m202.tpw_svc_id = #{tpwSvcId}
        and m202.tpw_svc_typ_id = #{tpwSvcTypId}
        and m202.tpw_svc_typ_sno = #{tpwSvcTypSno}
    </select>

    <select id="generateNewSvcTypId" resultType="String" parameterType="String">
        select 'T' || lpad((coalesce(max(substr(tpw_svc_typ_id,2,5)),'0')::int + 1)::text, 5, '0')
        from ohxzown.tbhxzm202
        where tpw_svc_id = #{tpwSvcId}
    </select>

    <insert id="saveSprtSvcTyp" parameterType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcTypRspVO">
        insert into ohxzown.tbhxzm202 (
        tpw_svc_id,
        tpw_svc_typ_id,
        tpw_svc_typ_sno,
        tpw_svc_typ_nm,
        tpw_svc_typ_stt_dt,
        tpw_svc_typ_end_dt,
        tpw_svc_typ_ctt,
        tpw_mbrs_typ_cd,
        tpw_mntn_cd,
        tpw_trd_org_cd,
        tpw_stlm_ctg_cd,
        use_yn,
        tpw_stlm_cyc_dvs_cd,
        sprt_dplc_yn,
        tpw_rsdc_auth_cyc_cd,
        tpw_stlm_act_dvs_cd,
        aut_apl_yn,
        frgn_sprt_yn,
        tpw_crov_dvs_cd,
        trns_trd_mlpr_ex_yn,
        evdn_yn,
        trd_ncnt_ltn_adpt_yn,
        stlm_ctg_adpt_val,
        trns_trd_req_yn,
        ldgr_trd_req_yn,
        taxi_trd_req_yn,
        area_trd_req_yn,
        rgsr_id,
        rgt_dtm,
        updr_id,
        upd_dtm
        )
        values (
        #{tpwSvcId},
        #{tpwSvcTypId},
        (select coalesce(max(m202.tpw_svc_typ_sno), 0) + 1
        from ohxzown.tbhxzm202 m202
        where m202.tpw_svc_id = #{tpwSvcId}
        and m202.tpw_svc_typ_id = #{tpwSvcTypId}),

        #{tpwSvcTypNm},
        #{tpwSvcTypSttDt},
        #{tpwSvcTypEndDt},
        #{tpwSvcTypCtt},
        #{tpwMbrsTypCd},
        #{tpwMntnCd},
        #{tpwTrdOrgCd},
        #{tpwStlmCtgCd},
        #{useYn},
        #{tpwStlmCycDvsCd},
        #{sprtDplcYn},
        #{tpwRsdcAuthCycCd},
        #{tpwStlmActDvsCd},
        #{autAplYn},
        #{frgnSprtYn},
        #{tpwCrovDvsCd},
        #{trnsTrdMlprExYn},
        #{evdnYn},
        #{trdNcntLtnAdptYn},
        #{stlmCtgAdptVal},
        #{trnsTrdReqYn},
        #{ldgrTrdReqYn},
        #{taxiTrdReqYn},
        #{areaTrdReqYn},
        coalesce(#{rgsrId}, 'system'),
        to_char(now(), 'YYYYMMDDHH24MISS'),
        coalesce(#{updrId}, 'system'),
        to_char(now(), 'YYYYMMDDHH24MISS')
        )
    </insert>

    <update id="updateUseYnN" parameterType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcTypRspVO">
        update ohxzown.tbhxzm202
        set use_yn = 'N'
        where tpw_svc_id = #{tpwSvcId}
        and tpw_svc_typ_id = #{tpwSvcTypId}
        and tpw_svc_typ_sno = #{tpwSvcTypSno}
    </update>

    <select id="readSprtSvcTypById"
            resultType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcTypRspVO"
            parameterType="tmoney.co.kr.hxz.spfnsprtmng.payinf.vo.sprtsvcpt.SprtSvcTypRspVO">
        select *
        from ohxzown.tbhxzm202
        where tpw_svc_id = #{tpwSvcId}
        and tpw_svc_typ_id = #{tpwSvcTypId}
        and tpw_svc_typ_sno = #{tpwSvcTypSno}
    </select>

</mapper>